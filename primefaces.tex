% Enterprise JSF project.
%
% Copyright 2022 e-Contract.be BV. All rights reserved.
% e-Contract.be BV proprietary/confidential. Use is subject to license terms.

\chapter{PrimeFaces}

JSF has known a lot of component libraries over its history.
After almost two decades of JSF however, natural selection did set in,
resulting in the survival of just a few really high quality JSF component libraries.
The most prominent here is PrimeFaces \cite{PrimeFaces}.
Some of its major features:
\begin{itemize}
	\item Client-side API for the components.
	\item Configurable style.
\end{itemize}

\section{Introduction}
Converting our \ref{sec:basic-input-output} \nameref{sec:basic-input-output} example from page \pageref{sec:basic-input-output} to PrimeFaces gives us the following.
\lstinputlisting[language=XML]{helloworld-primefaces/war/src/main/webapp/hello-world.xhtml}

\section{Widgets}
Our custom component with corresponding client-side widget is composed out of the actual component, and the corresponding renderer.
The source code for the component is given below.
\lstinputlisting[language=Java]{helloworld-primefaces/taglib/src/main/java/be/e_contract/jsf/taglib/ExampleComponent.java}
The component simply defines a \texttt{widgetVar} attribute that is used by our custom renderer.

The source code for the corresponding renderer is given below.
\lstinputlisting[language=Java]{helloworld-primefaces/taglib/src/main/java/be/e_contract/jsf/taglib/ExampleRenderer.java}
Using the PrimeFaces \texttt{WidgetBuilder} we bind our custom (client-side) widget to our component.

The source code of the Javascript resource is given below.
\lstinputlisting[language=Javascript]{helloworld-primefaces/taglib/src/main/resources/META-INF/resources/ejsf/example-widget.js}
Notice how we extend the PrimeFaces \texttt{BaseWidget}. Via the \texttt{init} method our custom widget gets initialized by the PrimeFaces client-side framework.

An example usage is demonstrated below:
\lstinputlisting[language=XML]{helloworld-primefaces/war/src/main/webapp/widget.xhtml}